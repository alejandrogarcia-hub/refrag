# REfrag Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# Optional API Keys
# ============================================================================

# HuggingFace Token (only needed for gated models like Llama-2)
# Get your token from: https://huggingface.co/settings/tokens
HUGGINGFACE_TOKEN=your_hf_token_here

# Anthropic API Key (only for baseline RAG comparison, not required for REfrag)
# Get your key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_key_here

# ============================================================================
# Model Configuration
# ============================================================================

# Decoder Model (local LLM for generation)
# Options:
#   - TinyLlama/TinyLlama-1.1B-Chat-v1.0 (fastest, 2.2GB)
#   - microsoft/phi-2 (balanced, 5.5GB)
#   - meta-llama/Llama-2-7b-chat-hf (best quality, requires HF token, 14GB)
DECODER_MODEL=TinyLlama/TinyLlama-1.1B-Chat-v1.0

# Encoder Model (for chunk compression)
ENCODER_MODEL=roberta-base

# Embedding Model (for document retrieval)
EMBEDDING_MODEL=BAAI/bge-small-en-v1.5

# ============================================================================
# REfrag Configuration
# ============================================================================

# Number of tokens per chunk (paper uses 16)
CHUNK_SIZE=16

# Fraction of chunks to expand (0.0 to 1.0, paper uses 0.25)
EXPANSION_FRACTION=0.25

# Selection strategy: similarity, tfidf, position, hybrid
SELECTION_STRATEGY=similarity

# Number of documents to retrieve for each query
TOP_K_DOCUMENTS=5

# ============================================================================
# Hardware Configuration
# ============================================================================

# Device: cuda, mps, or cpu
DEVICE=cuda

# Use 8-bit quantization (reduces memory usage by ~50%)
USE_8BIT=false

# Use 4-bit quantization (reduces memory usage by ~75%)
USE_4BIT=false

# ============================================================================
# Vector Database Configuration
# ============================================================================

# ChromaDB persistence directory
CHROMA_DB_PATH=./chroma_db

# Collection name for documents
CHROMA_COLLECTION_NAME=refrag_documents

# ============================================================================
# Logging and Debug
# ============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Enable detailed metrics logging
ENABLE_METRICS=true
